"use strict";!function(){var e=document.getElementsByClassName("jlc-wrapper");function i(e,t,a){var r=document.createElement(e);if(t)for(var s in t){var n=t[s];"className"===s&&(s="class");var l=document.createAttribute(s);l.value=n,r.setAttributeNode(l)}return a&&(r.innerHTML=a),r}function c(){var e=h(this,".jlc-wrapper"),t=e.getElementsByClassName("jlc-cover")[0],a=e.getElementsByClassName("jlc-form")[0];f(t,"is_active");var r=window.getComputedStyle(a).getPropertyValue("min-width");0!==parseInt(r)&&(e.style.width=e.style.minWidth=r)}function f(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function g(e,t){e.classList.contains(t)&&e.classList.remove(t)}function o(e){var t,a=h(e.target,".jlc-wrapper").getElementsByClassName("jlc-form")[0];((t=e.target.value,/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase()))?f:g)(a,"jlc-form__valid")}function h(e,t){for(;(e=e.parentElement)&&!(e.matches||e.matchesSelector).call(e,t););return e}function y(e,t,a){var r=i("div",{class:"jlc-error "+(2<arguments.length&&void 0!==a?a:"")},t);e.appendChild(r)}function d(e,t){var a="0.5",r="blur(4px)";t&&(a="1",r="none"),e.style.opacity=a,e.style.filter=r}function m(e){e.preventDefault();var t=h(this,".jlc-wrapper"),a=t.getElementsByClassName("jlc-form")[0],r=t.getElementsByClassName("jlc-sbmt")[0],s=t.getElementsByClassName("jlc-input")[0],n=t.getAttribute("data-tx-error")||"An error has occurred, please try again later",l=t.getAttribute("data-tx-exist")||"This email is already registered.<br>Please ",i=t.getAttribute("data-tx-exist-linked")||"sign in to access",c=t.getAttribute("data-tx-success")||"CHECK YOUR EMAIL",o=t.getAttribute("data-key")||"jelastichosting.nl";-1<o.indexOf("app.")&&(o=o.replace("app.","")),f(a,"jlc-form__sending");var d=document.getElementsByClassName("jlc-error")[0];void 0!==d&&null!=d&&t.removeChild(d);var m=encodeURIComponent(s.value),u="https://reg."+o+"/signup",p=new XMLHttpRequest,v="email="+m;p.open("POST",u,!0),p.setRequestHeader("Content-type","application/x-www-form-urlencoded"),p.onload=function(){var e;200<=p.status&&p.status<400?(l+="<a target='_blank' href='https://app."+o+"'>"+i+"</a>.",0===(e=JSON.parse(p.responseText)).result&&(e.response.exist&&e.response.activated?(y(t,l,"user-exist"),g(a,"jlc-form__sending")):(g(a,"jlc-form__sending"),f(a,"jlc-form__succeed"),r.disabled=s.disabled=!0,s.value=c))):(y(t,n),g(a,"jlc-form__sending"))},p.onerror=function(e){y(t,n),g(a,"jlc-form__sending")},p.send(v)}Array.from(e).forEach(function(e){d(e,!1);var t=e.getAttribute("data-text")||"GET STARTED NOW",a=i("div",{className:"jlc-cover"});e.appendChild(a);var r=i("button",{className:"jlc-btn"},t);a.appendChild(r);var s=i("form",{className:"jlc-form"});a.appendChild(s);var n=i("input",{className:"jlc-input",placeholder:"your@email.com",type:"email",required:"true"});s.appendChild(n);var l=i("button",{className:"jlc-sbmt"});s.appendChild(l),r.addEventListener("click",c),s.addEventListener?s.addEventListener("submit",m,!1):s.attachEvent&&s.attachEvent("onsubmit",m),n.addEventListener("change",o,!1),n.addEventListener("keyup",o,!1)}),document.onreadystatechange=function(){"complete"===document.readyState&&Array.from(e).forEach(function(e){d(e,!0)})}}();