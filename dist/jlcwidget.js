"use strict";!function(){var e=document.getElementsByClassName("jlc-wrapper");function i(e,t,a){var s=document.createElement(e);if(t)for(var r in t){var n=t[r];"className"===r&&(r="class");var l=document.createAttribute(r);l.value=n,s.setAttributeNode(l)}return a&&(s.innerHTML=a),s}function c(){var e=h(this,".jlc-wrapper"),t=e.getElementsByClassName("jlc-cover")[0],a=e.getElementsByClassName("jlc-form")[0];f(t,"is_active");var s=window.getComputedStyle(a).getPropertyValue("min-width");0!==parseInt(s)&&(e.style.width=e.style.minWidth=s)}function f(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function g(e,t){e.classList.contains(t)&&e.classList.remove(t)}function o(e){var t,a=h(e.target,".jlc-wrapper").getElementsByClassName("jlc-form")[0];((t=e.target.value,/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase()))?f:g)(a,"jlc-form__valid")}function h(e,t){for(;(e=e.parentElement)&&!(e.matches||e.matchesSelector).call(e,t););return e}function y(e,t,a){var s=i("div",{class:"jlc-error "+(2<arguments.length&&void 0!==a?a:"")},t);e.appendChild(s)}function d(e,t){var a="0.5",s="blur(4px)";t&&(a="1",s="none"),e.style.opacity=a,e.style.filter=s}function m(e){e.preventDefault();var t=h(this,".jlc-wrapper"),a=t.getElementsByClassName("jlc-form")[0],s=t.getElementsByClassName("jlc-sbmt")[0],r=t.getElementsByClassName("jlc-input")[0],n=t.getAttribute("data-tx-error")||"An error has occurred, please try again later",l=t.getAttribute("data-tx-exist")||"This email is already registered.<br>Please ",i=t.getAttribute("data-tx-exist-linked")||"sign in to access",c=t.getAttribute("data-tx-success")||"CHECK YOUR EMAIL",o=t.getAttribute("data-key")||"jelastichosting.nl";f(a,"jlc-form__sending");var d=document.getElementsByClassName("jlc-error")[0];void 0!==d&&null!=d&&t.removeChild(d);var m=encodeURIComponent(r.value),u="https://reg."+o+"/signup",p=new XMLHttpRequest,v="email="+m;p.open("POST",u,!0),p.setRequestHeader("Content-type","application/x-www-form-urlencoded"),p.onload=function(){if(200<=p.status&&p.status<400){l+="<a target='_blank' href='https://app."+o+"'>"+i+"</a>.";var e=JSON.parse(p.responseText);0===e.result&&(e.response.exist&&e.response.activated?(y(t,l,"user-exist"),g(a,"jlc-form__sending")):(g(a,"jlc-form__sending"),f(a,"jlc-form__succeed"),s.disabled=r.disabled=!0,r.value=c))}else y(t,n),g(a,"jlc-form__sending")},p.onerror=function(e){y(t,n),g(a,"jlc-form__sending")},p.send(v)}Array.from(e).forEach(function(e){d(e,!1);var t=e.getAttribute("data-text")||"GET STARTED NOW",a=i("div",{className:"jlc-cover"});e.appendChild(a);var s=i("button",{className:"jlc-btn"},t);a.appendChild(s);var r=i("form",{className:"jlc-form"});a.appendChild(r);var n=i("input",{className:"jlc-input",placeholder:"your@email.com",type:"email",required:"true"});r.appendChild(n);var l=i("button",{className:"jlc-sbmt"});r.appendChild(l),s.addEventListener("click",c),r.addEventListener?r.addEventListener("submit",m,!1):r.attachEvent&&r.attachEvent("onsubmit",m),n.addEventListener("change",o,!1),n.addEventListener("keyup",o,!1)}),document.onreadystatechange=function(){"complete"===document.readyState&&Array.from(e).forEach(function(e){d(e,!0)})}}();